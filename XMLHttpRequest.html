<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' href='style.css'>
    <title>Using AJAX - XMLHttpRequest</title>

  </head>

  <body>
    <h1>Football Player Biographies</h1>

    <form>
      <label for="player-choose">Choose a player</label>
      <select id="player-choose" name="player-choose">
        <option>Cristiano Ronaldo</option>
        <option>Lionel Messi</option>
        <option>Neymar</option>
        <option>Iniesta</option>
      </select>
    </form>

    <h2><em>Player Bio:</em></h2>

    <pre>

    </pre>

    <script>
        const playerChoose = document.querySelector('select');
        const bioDisplay = document.querySelector('pre');

        playerChoose.onchange = function() {
          const info = playerChoose.value;
          updateDisplay(info);
        };

        function updateDisplay(info) {
          info = info.replace(" ", "");
          info = info.toLowerCase();
          let url = info + '.txt';
          
          // Creating the XMLHttpRequest 
          let request = new XMLHttpRequest();
          request.open('GET', url);
          request.responseType = 'text';
          request.onload = function() {
            bioDisplay.textContent = request.response;
          };
          
          request.send();
        };
        
        
        playerChoose.value = 'Choose a player';

    </script>
  </body>
</html>